%% This configuration is intened to benchmark antidote with protocol buffer interface.
%% The important parameters are as follows:
%% {concurrent, integer()}: the number of threads to use for benchmarking. Too low concurrency will 
%% not exploit the real throughput of the system, while too high concurrency will over-stress
%% the system and trigger timeouts. The suggested number is about 20.
%%
%% {mode, max|{rate, integer()}}: how frequent a thread should send request. Use 'max' for benchmarking.
%% If you are debugging, maybe {rate, N} can be useful, which means each thread sends N reqs per second.
%%
%% {operations, [{Op(), integer()}|...]}: the operation to benchmark and its proportion.
%% 
%% {antidote_pb_port, integer()}|{antidote_pb_ips, [ip()|..]}: the ports and ips of antidote instances 
%% to benchmark.
%% 
%% For more information, please check : http://docs.basho.com/riak/latest/ops/building/benchmarking/

{mode, max}.

{duration, 3}.

{concurrent, 40}.

{driver, basho_bench_driver_antidote_pb}.

{key_generator, {pareto_int, 2000}}.
{value_generator, {fixed_bin, 10}}.

{operations, [{append_multiple, 1}]}.

%% the second element in the list below (e.g., "../../public/bitcask")
%% must point to % the relevant directory of a bitcask installation
{code_paths, ["../antidote/ebin"]}.

{antidote_pb_port, 8087}.
{antidote_cookie, antidote}.

{antidote_mynode, ['antidote_bench@127.0.0.1', longnames]}.
{antidote_types, [{riak_dt_pncounter, [increment, decrement]}]}.
%%{antidote_types, [{riak_dt_pncounter, [increment, decrement]}, {riak_dt_orset, [add, remove]}]}.
{antidote_pb_ips, ['127.0.0.1']}.
